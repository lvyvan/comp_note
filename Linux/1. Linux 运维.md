# 一、Linux 基础

## 1. Linux安装

### 1.1 CentOS

语言 English

时区 Shanghai

软件选择(Software Selection)  -> Minimal Install

安装目的地(Installation Destination)  ->

	Storage Configuration -> Custom
	New CentOS Linux installation -> Standard Partition
	---------------------------------
	+ /
	+ /boot Exit4
	+ swap
	+ /data
	---------------------------------

kdump -> Disable

Root Password -> ***

Create User -> Make this user administrator

-> Install

Reboot System

### 1.2 Ubuntu

language English

Install Ubuntu Server

Select your lacation -> Hong Kong

Configure the keyboard -> No -> English

Configure the network -> ubuntu1804.yvan.org

Set up users and passwords -> user -> passwd

Partiton disks -> Manual

	sda -> yes
	FREE SPACE
	Create a new partition
	+ /
	+ /boot Exit4
	+ swap
	+ /data

Finish partitioning and write changes to disk

Configuring tasksel -> No automatic updates

Software selection -> \[\*\] OpenSSH server

## 2. 远程连接和基本操作

hostname -I

```bash
[root@VM-12-15-centos ~]# hostname -I
10.0.12.15
```

ssh user@ip

```bash
PS C:\Users\yvanl> ssh root@124.222.71.75
```

### 2.1 远程管理工具

xshell

mobaxterm

### 2.2 基本操作

free -h

```bash
[root@VM-12-15-centos ~]# free -h
              total        used        free      shared  buff/cache   available
Mem:          1.7Gi       202Mi       532Mi       1.0Mi       985Mi       1.3Gi
Swap:            0B          0B          0B

```

init3

```bash
[root@VM-12-15-centos ~]# init 3
```

runlevel

```bash
[root@VM-12-15-centos ~]# runlevel
N 3
```

切换登录界面

```bash
ctrl + alt + F2
```

whoami

```
[root@VM-12-15-centos ~]# whoami
root
```

## 3. 用户类型

### 3.1 root用户

一个特殊的管理账户，也被称为超级用户。
root已接近完整的系统控制

### 3.2 普通用户

权限有限

## 4. 终端 terminal

```bash
[root@VM-12-15-centos ~]# tty
/dev/pts/0
```

### 4.1 终端类型

- 控制台终端 /dev/console
- 串行终端 /dev/ttyS#
- 虚拟终端 /dev/tty#
- 图形终端 startx, xwindiows
- 伪终端   /dev/pst/#

### 4.2 终端用户命令

who 

```bash
[root@VM-12-15-centos ~]# who am i
root     pts/0        2022-12-02 11:37 (115.63.169.86)
```

w

```bash
[root@VM-12-15-centos ~]# w
 11:40:59 up 1 day, 13:09,  1 user,  load average: 0.00, 0.00, 0.00
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
root     pts/0    115.63.169.86    11:37    1.00s  0.00s  0.00s w

```

## 5. 交互式接口

### 5.1 交互接口类型

GUI: Graphic User Interface

CLI: Command Line Interface

### 5.2 Shell

命令解释器

```bash
[root@VM-12-15-centos ~]# ps aux | grep bash
root      323758  0.0  0.2  26240  3888 pts/0    Ss   11:37   0:00 -bash
root      325441  0.0  0.0  12132  1088 pts/0    R+   11:49   0:00 grep --color=auto bash
```

echo $SHELL

```
$ echo $SHELL
/bin/bash
```

cat /etc/shells

```bash
$ cat /etc/shells
# /etc/shells: valid login shells
/bin/sh
/bin/bash
/usr/bin/bash
/bin/rbash
/usr/bin/rbash
/bin/dash
/usr/bin/dash
```

## 6. 设置主机名

### 6.1 临时修改主机名

hostname NAME

```bash
# 临时生效
$ hostname yvanlv
```

### 6.2 持久修改主机名

hostnamectl set-hostname NAME

```bash
hostnamectl set-hostname yvanlv
```

cat /etc/hostname

```bash
$ cat /etc/hostname
yvan
```

- 主机名不支持使用下划线
- 有些软件对主机名有特殊要求

## 7. 命令提示符

prompt

echo $PS1

```bash
$ echo $PS1
\[\e]0;\u@\h: \w\a\]${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$
```

```bash
[root@VM-12-15-centos ~]# echo $PS1
[\u@\h \W]\$
```

### 7.1 提示符格式

	\e 控制符\033 
	\u 当前用户 
	\h 主机名简称
	\H 主机名
	\w 当前工作目录
	\W 当前工作目录基名
	\t 24小时时间格式 
	\T 12小时时间格式
	! 命令历史数
	# 开机后命令历史数

### 7.2 CentOS持久保存提示符格式

```bash
echo 'PS1="\[\e[1;32m\][\t \[\e[1;33m\]\u\[\e[35m\]@\h\ [\e[1;31m\] \W\[\e[1;32m\]]\[\e[0m\]\\$"' > /etc/profile.d/env.sh
```

### 7.3 Ubuntu持久保存提示符格式

```bash
echo "PS1='\[\e[1;35m\][\u@\h \W]\\$\[\e[0m\]'" >> .bashrc
tail -1 .bashrc
```

## 8. 执行命令

### 8.1 内部命令

enable 管理内部命令
- enable cmd 启用内部命令
- enable –n cmd 禁用内部命令
- enable –n 查看所有禁用的内部命令

```bash
$ enable
...
$ enable | wc -l
61
```

### 8.2 命令类型

type

```bash
$ type ip
ip is /usr/sbin/ip
$ type echo
echo is a shell builtin
$ type who
who is /usr/bin/who
$ who
$ type who
who is hashed (/usr/bin/who)
```

列出该命令的所有路径

```bash
$ type -a echo
echo is a shell builtin
echo is /usr/bin/echo
echo is /bin/echo
```

### 8.3 查看环境变量

echo $PATH

```bash
# echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
```

### 8.4 命令路径缓存

hash缓存表

```bash
hash: usage: hash [-lr] [-p pathname] [-dt] [name ...]
```

查看命令路径缓存

```bash
$ hash
hits    command
   3    /usr/bin/who
   1    /usr/sbin/init
   1    /usr/sbin/runlevel
   2    /usr/bin/ls
   1    /usr/bin/tty
   1    /usr/bin/free
   2    /usr/bin/cat
   6    /usr/bin/hostname
   1    /usr/bin/sudo
```

删除单个命令缓存

```bash
$ hash -d who
```

清除命令路径缓存

```bash
$ hash -r
```

### 8.5 Xmanager

一款小巧、便捷的浏览远端X窗口系统的工具。

可以将PC变成X Window工作站（非开源）。

就像运行在PC上的任何Windows应用程序一样，它可以无缝拼接到UNIX应用程序中。

### 8.7 命令别名

alias

```bash
alias: usage: alias [-p] [name[=value] ... ]
```

显示当前shell进程所有可用的命令别名

```bash
$ alias
alias ls='ls --color=auto'
```

alias NAME='VALUE'

```bash
$ alias ll='ls -l'
$ ll /bin/bash
-rwxr-xr-x 1 root root 1234376 Mar 28  2022 /bin/bash
```

lsblk

```bash
[root@MiWiFi-R4A-srv yvan]# lsblk
NAME                     MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
sda                        8:0    0   2.7T  0 disk 
├─sda1                     8:1    0   600M  0 part /boot/efi
├─sda2                     8:2    0     1G  0 part /boot
└─sda3                     8:3    0   2.7T  0 part 
  └─almalinux_bogon-home 253:2    0   3.8T  0 lvm  /home
sdb                        8:16   0 931.5G  0 disk 
└─sdb1                     8:17   0 931.5G  0 part 
  └─almalinux_bogon-home 253:2    0   3.8T  0 lvm  /home
nvme0n1                  259:0    0 232.9G  0 disk 
└─nvme0n1p1              259:1    0 232.9G  0 part 
  ├─almalinux_bogon-root 253:0    0    70G  0 lvm  /
  ├─almalinux_bogon-swap 253:1    0   7.8G  0 lvm  [SWAP]
  └─almalinux_bogon-home 253:2    0   3.8T  0 lvm  /home

[root@MiWiFi-R4A-srv yvan]# echo '- - -' > /sys/class/scsi_host/host0/scan

$ alias scandisk="echo '- - -' > /sys/class/scsi_host/host0/scan;echo '- - -' > /sys/class/scsi_host/host1/scan;echo '- - -' > /sys/class/scsi_host/host2/scan"
```

unalias

```bash
unalias: usage: unalias [-a] name [name ...]

# 撤销所有别名
unalias -a
```

注意：在命令行中定义的别名，仅对当前shell进程有效

如果想永久有效，要定义在配置文件中
- 仅对当前用户：`~/.bashrc`
- 对所有用户有效：`/etc/bashrc`

编辑配置给出的新配置不会立即生效，bash进程重新读取配置文件

```bash
source /path/to/config_file
. /path/to/config_file
```

### 8.8 命令格式

```bash
COMMAND [OPTIONS...] [ARGUMENTS...]
COMMAND [COMMAND] [COMMAND] ...
```

选项：用于启用或关闭命令的某个或某些功能
- 短选项：UNIX 风格选项，-c 例如：-l, -h
- 长选项：GNU风格选项，--word 例如：--all, --human
- BSD风格选项： 一个字母，例如：a，使用相对较少

## 9. 常见命令

### 9.1 查看硬件信息

#### lscpu

```bash
# lscpu
Architecture:        x86_64
CPU op-mode(s):      32-bit, 64-bit
Byte Order:          Little Endian
CPU(s):              1
On-line CPU(s) list: 0
Thread(s) per core:  1
Core(s) per socket:  1
Socket(s):           1
NUMA node(s):        1
Vendor ID:           GenuineIntel
BIOS Vendor ID:      Smdbmds
CPU family:          6
Model:               94
Model name:          Intel(R) Xeon(R) Gold 6148 CPU @ 2.40GHz
BIOS Model name:     3.0
...
```

#### cat /proc/cpuinfo 

```bash
# cat /proc/cpuinfo 
processor	: 0
vendor_id	: GenuineIntel
cpu family	: 6
model		: 94
model name	: Intel(R) Xeon(R) Gold 6148 CPU @ 2.40GHz
...
```

#### free

```bash
# free -h
              total        used        free      shared  buff/cache   available
Mem:          1.7Gi       205Mi       483Mi       1.0Mi       1.0Gi       1.3Gi
Swap:            0B          0B          0B

```

#### cat /proc/meminfo

```bash
# cat /proc/meminfo 
MemTotal:        1762408 kB
MemFree:          493952 kB
MemAvailable:    1376196 kB
Buffers:           84860 kB
Cached:           908468 kB
SwapCached:            0 kB
...
```

#### lsblk

```bash
# lsblk
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sr0     11:0    1 198.4M  0 rom  
vda    253:0    0    50G  0 disk 
└─vda1 253:1    0    50G  0 part /

```

#### cat /proc/partitions 

```bash
# cat /proc/partitions 
major minor  #blocks  name

 253        0   52428800 vda
 253        1   52427759 vda1
  11        0     203152 sr0

```

### 9.2 查看系统版本信息

#### arch

```bash
$ arch
x86_64
```

#### uname

```bash
$ uname -r
5.15.74.2-microsoft-standard-WSL2
```

#### cat /etc/redhat-release 

```
# cat /etc/redhat-release 
CentOS Stream release 8
```

#### cat /etc/os-releases

```bash
$ cat /etc/os-release
PRETTY_NAME="Debian GNU/Linux 11 (bullseye)"
NAME="Debian GNU/Linux"
VERSION_ID="11"
VERSION="11 (bullseye)"
VERSION_CODENAME=bullseye
ID=debian
HOME_URL="https://www.debian.org/"
SUPPORT_URL="https://www.debian.org/support"
BUG_REPORT_URL="https://bugs.debian.org/"
```

#### lsb_release

```bash
$ lsb_release -a
```

需要安装 redhat-lsb-core

```bash
$ yum provides lsb_release
Last metadata expiration check: 1:29:08 ago on Fri 02 Dec 2022 09:28:01 PM CST.
redhat-lsb-core-4.1-47.el8.i686 : LSB Core module support
Repo        : appstream
Matched from:
Filename    : /usr/bin/lsb_release

redhat-lsb-core-4.1-47.el8.x86_64 : LSB Core module support
Repo        : appstream
Matched from:
Filename    : /usr/bin/lsb_release
```

#### cat /etc/issue

```bash
cat /etc/issue
Debian GNU/Linux 11 \n \l
```

### 9.3 时间和日期

- 系统时钟：由Linux内核通过CPU的工作频率进行的
- 硬件时钟：主板

#### date

```bash
$ date --help
Usage: date [OPTION]... [+FORMAT]
  or:  date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]
Display the current time in the given FORMAT, or set the system date.

...
```

```bash
$ date
Fri 02 Dec 2022 10:32:16 PM CST
```

```bash
$ date +%s
1669991707
```

```bash
$ date -d @1584689051
Fri 20 Mar 2020 03:24:11 PM CST
```

#### clock & hwclock

clock

```bash
$ clock --help

Usage:
 clock [function] [option...]

...
```

- -s, --hctosys 以硬件时钟为准，校正系统时钟 
- -w, --systohc 以系统时钟为准，校正硬件时钟

```bash
$ clock
2022-12-02 23:01:46.702918+08:00
```

hwclock

```bash
# ll /usr/sbin/clock
lrwxrwxrwx. 1 root root 7 Jul 21  2021 /usr/sbin/clock -> hwclock
```

#### timedatectl

```bash
# timedatectl
               Local time: Fri 2022-12-02 23:14:36 CST
           Universal time: Fri 2022-12-02 15:14:36 UTC
                 RTC time: Fri 2022-12-02 15:14:35
                Time zone: Asia/Shanghai (CST, +0800)
System clock synchronized: yes
              NTP service: active
          RTC in local TZ: no
```

timedatectl list-timezones

```bash
# timedatectl list-timezones | grep Tokyo
Asia/Tokyo
# timedatectl set-timezone Asia/Tokyo
```

ll /etc/localtime 

```bash
# ll /etc/localtime 
lrwxrwxrwx. 1 root root 35 Dec 31  2021 /etc/localtime -> ../usr/share/zoneinfo/Asia/Shanghai
```

#### cal

cal m y

```bash
# cal 9 1752
   September 1752   
Su Mo Tu We Th Fr Sa
       1  2 14 15 16
17 18 19 20 21 22 23
24 25 26 27 28 29 30
```

### 9.4 关机和重启

#### halt

关机

#### poweroff

关机

#### reboot

重启

#### shutdown

```bash
$ shutdown --help
shutdown [OPTIONS...] [TIME] [WALL...]

Shut down the system.

Options:
     --help      Show this help
  -H --halt      Halt the machine
  -P --poweroff  Power-off the machine
  -r --reboot    Reboot the machine
  -h             Equivalent to --poweroff, overridden by --halt
  -k             Don't halt/power-off/reboot, just send warnings
     --no-wall   Don't send wall message before halt/power-off/reboot
  -c             Cancel a pending shutdown

See the shutdown(8) man page for details.
```

### 9.5 用户登录信息查看

#### whoami

```bash
# whoami
root
```

#### who

```bash
# who
root     pts/0        2022-12-02 22:23 (xxx.xx.xxx.xx)
```

#### w

```bash
# w
 23:33:55 up 2 days,  1:02,  1 user,  load average: 0.01, 0.02, 0.06
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
root     pts/0    xxx.xx.xxx.xx    22:23    0.00s  0.04s  0.00s w
```

### 9.6 文本编辑

#### nano

退出 ctrl + x

```bash
$ cat /etc/motd

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
```

#### gedit

图形文本编辑器

#### vim

退出 :q!

### 9.7 会话管理

终端复用器软件就是会话与窗口的"解绑"工具，将它们彻底分离。
- 它允许在单个窗口中，同时访问多个会话。这对于同时运行多个命令行程序很有用。
- 它可以让新窗口"接入"已经存在的会话。
- 它允许每个会话有多个连接窗口，因此可以多人实时共享会话。
- 它还支持窗口任意的垂直和水平拆分。

#### Screen

```bash
# screen -h
Use: screen [-opts] [cmd [args]]
 or: screen -r [host.tty]

Options:
-4            Resolve hostnames only to IPv4 addresses.
-6            Resolve hostnames only to IPv6 addresses.
-a            Force all capabilities into each window\'s termcap.
-A -[r|R]     Adapt all windows to the new display width & height.
-c file       Read configuration file instead of '.screenrc'.
-d (-r)       Detach the elsewhere running screen (and reattach here).
-dmS name     Start as daemon: Screen session in detached mode.
-D (-r)       Detach and logout remote (and reattach here).
-D -RR        Do whatever is needed to get a screen session.
-e xy         Change command characters.
-f            Flow control on, -fn = off, -fa = auto.
-h lines      Set the size of the scrollback history buffer.
-i            Interrupt output sooner when flow control is on.
-l            Login mode on (update /var/run/utmp), -ln = off.
-ls [match]   or
-list         Do nothing, just list our SockDir [on possible matches].
-L            Turn on output logging.
-Logfile file Set logfile name.
-m            ignore $STY variable, do create a new screen session.
-O            Choose optimal output rather than exact vt100 emulation.
-p window     Preselect the named window if it exists.
-q            Quiet startup. Exits with non-zero return code if unsuccessful.
-Q            Commands will send the response to the stdout of the querying process.
-r [session]  Reattach to a detached screen process.
-R            Reattach if possible, otherwise start a new session.
-s shell      Shell to execute rather than $SHELL.
-S sockname   Name this session <pid>.sockname instead of <pid>.<tty>.<host>.
-t title      Set title. (window\'s name).
-T term       Use term as $TERM for windows, rather than "screen".
-U            Tell screen to use UTF-8 encoding.
-v            Print "Screen version 4.06.02 (GNU) 23-Oct-17".
-wipe [match] Do nothing, just clean up SockDir [on possible matches].
-x            Attach to a not detached screen. (Multi display mode).
-X            Execute <cmd> as a screen command in the specified session.

```

#### Tmux

Tmux 是一个终端复用器（terminal multiplexer）

Tmux 就是会话与窗口的"解绑"工具，将它们彻底分离，功能如下
- 它允许在单个窗口中，同时访问多个会话。这对于同时运行多个命令行程序很有用。
- 它可以让新窗口"接入"已经存在的会话。 
- 它允许每个会话有多个连接窗口，因此可以多人实时共享会话。
- 它还支持窗口任意的垂直和水平拆分

Tmux 窗口有大量的快捷键。所有快捷键都要通过前缀键唤起。

默认的前缀键是 Ctrl+b ，即先按下 Ctrl+b ，快捷键才会生效。

##### 窗格管理

新建一个指定名称的会话。 `tmux new -s  <session-name>`

查看当前所有的 Tmux 会话 `tmux ls` or `Ctrl+b, s` 

重新接入某个已存在的会话。`tmux attach -t <session-name>

杀死某个会话。`tmux kill-session -t <session-name>`

切换会话。`tmux switch -t <session-name>`

上下分窗格。 `tmux split-window` or `ctrl + b, "`

左右分窗格。 `tmux split-window -h` or `ctrl + b, %`

窗格快捷键
- `Ctrl+b %` ：划分左右两个窗格
- `Ctrl+b "` ：划分上下两个窗格
- `Ctrl+b <arrow key>` ：光标切换到其他窗格。是指向要切换到的窗格的方向键
- `Ctrl+b ;`：光标切换到上一个窗格
- `Ctrl+b o`：光标切换到下一个窗格
- `Ctrl+b {`：当前窗格左移
- `Ctrl+b }`：当前窗格右移
- `Ctrl+b Ctrl+o`：当前窗格上移
- `Ctrl+b Alt+o`：当前窗格下移
- `Ctrl+b x`：关闭当前窗格
- `Ctrl+b !`：将当前窗格拆分为一个独立窗口
- `Ctrl+b z`：当前窗格全屏显示，再使用一次会变回原来大小
- `Ctrl+b Ctrl+`：按箭头方向调整窗格大小
- `Ctrl+b q`：显示窗格编号

##### 窗口管理

除了将一个窗口划分成多个窗格，Tmux 也允许新建多个窗口

新建窗口 `tmux new-window` or `tmux new-window -n <window-name>`

切换窗口 `tmux select-window -t [<window-number> | <window-name>]`

窗口快捷键
- `Ctrl+b c`：创建一个新窗口，状态栏会显示多个窗口的信息。
- `Ctrl+b p`：切换到上一个窗口（按照状态栏上的顺序）。
- `Ctrl+b n`：切换到下一个窗口。
- `Ctrl+b`：切换到指定编号的窗口，其中的是状态栏上的窗口编号。
- `Ctrl+b w`：从列表中选择窗口
- `Ctrl+b ,`：窗口重命名

列出 Tmux 所有命令与快捷键 `tmux list-keys`

列出所有 Tmux 命令及其参数 `tmux list-commands`

### 9.8 echo

```bash
# type echo
echo is a shell builtin
```

echo

```bash
$ man echo
NAME
       echo - display a line of text
SYNOPSIS
       echo [SHORT-OPTION]... [STRING]...
       echo LONG-OPTION
DESCRIPTION
       Echo the STRING(s) to standard output.
       -n     do not output the trailing newline
       -e     enable interpretation of backslash escapes
       -E     disable interpretation of backslash escapes (default)
       --help display this help and exit
       --version
              output version information and exit
```

`\033[30m -- \033[37m 设置前景色`
`\033[40m -- \033[47m 设置背景色`

```bash
# echo -e '\E[1;32myvanlv\E[0m'
yvanlv
```

字符背景颜色范围: 40--47 
- 40:黑
- 41:红
- 42:绿
- 43:黄
- 44:蓝
- 45:紫
- 46:深绿
- 47:白色

字体颜色: 30--37
- 30: 黑
- 31: 红
- 32: 绿
- 33: 黄
- 34: 蓝
- 35: 紫
- 36: 深绿

常见的一些ANSI控制码
- `\033[0m`   关闭所有属性
- `\033[1m`   设置高亮度
- `\033[4m`   下划线   
- `\033[5m`   闪烁   
- `\033[7m`   反显
- `\033[8m`   消隐   
- `\033[nA`   光标上移n行   
- `\033[nB`   光标下移n行   
- `\033[nC`   光标右移n列
- `\033[nD`   光标左移n列
- `\033[x;yH` 设置光标位置x行y列
- `\033[2J`   清屏
- `\033[K`    清除从光标到行尾的内容
- `\033[s`    保存光标位置
- `\033[u`    恢复光标位置
- `\033[?25l` 隐藏光标
- `\033[?25h` 显示光标

## 10. 字符集和编码

### 10.1 ASCII

hexdump

```bash
# cat text.txt 
abc

a
b
c
# hexdump -C text.txt 
00000000  61 62 63 0a 0a 61 0a 62  0a 63 0a                 |abc..a.b.c.|
0000000b
```

dos2unix & unix2dos

dos2unix - DOS/Mac to Unix and vice versa text file format converter

The Dos2unix package includes utilities "dos2unix" and "unix2dos" to convert plain text files in DOS or Mac format to Unix format and vice versa.

In DOS/Windows text files a line break, also known as newline, is a combination of two characters: a Carriage Return (CR) followed by a Line Feed (LF). In Unix text files a line break is a single character: the Line Feed (LF). In Mac text files, prior to Mac OS X, a line break was single Carriage Return (CR) character. Nowadays Mac OS uses Unix style (LF) line breaks.

```bash
# dos2unix --help
Usage: dos2unix [options] [file ...] [-n infile outfile ...]
```

```bash
# dos2unix --help
Usage: dos2unix [options] [file ...] [-n infile outfile ...]
```

### 10.2 Unicode

[Unicode – The World Standard for Text and Emoji](https://home.unicode.org/)\

Unicode编码方案:
- UTF-8：变长，1到4个字节
- UTF-16：变长，2或4个字节
- UTF-32：固定长度，4个字

```bash
# echo $LANG
en_US.utf8
```

## 11. 命令行扩展

### 11.1 $()

```bash
# echo Today is $(date)
Today is Sat Dec 3 13:13:18 CST 2022
# echo `date +%F`
2022-12-03
```

"" | '' | \`\` 的比较
- `" "` 强引用，直接输出字符串
- `' '` 弱引用，可识别变量，但无法识别命令
- \` \` 可识别变量，命令

### 11.2 { }

{} 可以实现打印重复字符串的简化形式

启动或关闭 `echo $-`

```bash
$ echo {1,2,c,4,f}
1 2 c 4 f
# echo {1..9}
1 2 3 4 5 6 7 8 9
# echo {a..z..2}
a c e g i k m o q s u w y
```

## 12. tab自动补全

命令的子命令补全，需要安装 `bash-completion`

```bash
yum -y install bash-completion
```

### 12.1 命令补全 & 路径补全

略

### 12.2 双击Tab键

- command 2Tab 所有子命令或文件补全
- string2Tab 以string开头命令
- /2Tab 显示所有根目录下一级目录，包括隐藏目录
- ./2Tab 当前目录下子目录，包括隐藏目录
- *2Tab 当前目录下子目录，不包括隐藏目录
- ~2Tab 所有用户列表
- $2Tab 所有变量
- @2Tab /etc/hosts记录 （centos7 不支持）
- =2Tab 相当于ls –A （centos7不支持）

## 13. 命令行历史

history

```bash
$ history --help
history: history [-c] [-d offset] [n] or history -anrw [filename] or history -ps arg [arg...]
    Display or manipulate the history list.
    
    Display the history list with line numbers, prefixing each modified
    entry with a '*'.  An argument of N lists only the last N entries.
    
    Options:
      -c	clear the history list by deleting all of the entries
      -d offset	delete the history entry at position OFFSET.
    
      -a	append history lines from this session to the history file
      -n	read all history lines not already read from the history file
    		and append them to the history list
      -r	read the history file and append the contents to the history
    		list
      -w	write the current history to the history file
    
      -p	perform history expansion on each ARG and display the result
    		without storing it in the history list
      -s	append the ARGs to the history list as a single entry
    
    If FILENAME is given, it is used as the history file.  Otherwise,
    if HISTFILE has a value, that is used, else ~/.bash_history.
```

### 13.1 调用历史命令

```bash
$ !122
date
Sat Dec  3 18:07:04 CST 2022
$ !-4
man history
$ ll text.txt 
-rw-r--r-- 1 root root 11 Dec  3 12:37 text.txt
$ cat !*
cat text.txt
abc

a
b
c
```

调用上一个命令的最后一个参数 [esc + .] or [alt + .] or 

```bash
# ll !$
ll text.txt
-rw-r--r-- 1 root root 11 Dec  3 12:37 text.txt
```

重复前一个命令方法
- 重复前一个命令使用上方向键，并回车执行
- 按 !! 并回车执行
- 输入!-1 并回车执行
- 按 Ctrl+p 并回车执行

重复历史命令
- !:0 执行前一条命令（去除参数）
- !n 执行history命令输出对应序号n的命令
- !-n 执行history历史中倒数第n个命令
- !string 重复前一个以“string”开头的命令
- !?string 重复前一个包含string的命令
- !string:p 仅打印命令历史，而不执行
- !$:p 打印输出 !$ （上一条命令的最后一个参数）的内容
- !*:p 打印输出 !*（上一条命令的所有参数）的内容
- ^string 删除上一条命令中的第一个string
- ^string1^string2 将上一条命令中的第一个string1替换为string2
- !:gs/string1/string2 将上一条命令中所有的string1都替换为
- string2 使用up（向上）和down（向下）键来上下浏览从前输入的命令
- ctrl-r 来在命令历史中搜索命令
	- (reverse-i-search)`': 
	- Ctrl+g：从历史搜索模式退出

重复使用历史参数
- command !^   利用上一个命令的第一个参数做command的参数
- command !$   利用上一个命令的最后一个参数做command的参数
- command !*   利用上一个命令的全部参数做command的参数
- command !:n 利用上一个命令的第n个参数做command的参数
- command !n:^ 调用第n条命令的第一个参数
- command !n:$ 调用第n条命令的最后一个参数
- command !n:m 调用第n条命令的第m个参数
- command !n:* 调用第n条命令的所有参数
- command !string:^ 从命令历史中搜索以 string 开头的命令，并获取它的第一个参数
- command !string:$ 从命令历史中搜索以 string 开头的命令,并获取它的最后一个参数
- command !string:n 从命令历史中搜索以 string 开头的命令，并获取它的第n个参数
- command !string:* 从命令历史中搜索以 string 开头的命令，并获取它的所有参数

### 13.2 历史记录相关环境变量

- HISTSIZE：命令历史记录的条数
- HISTFILE：指定历史文件，默认为~/.bash_history
- HISTFILESIZE：命令历史文件记录历史的条数
- HISTTIMEFORMAT="%F %T `whoami` "   显示时间和用户
- HISTIGNORE="str1:str2*:…" 忽略str1命令，str2开头的历史
- HISTCONTROL：控制命令历史的记录方式
- ignoredups 是默认值，可忽略重复的命令，连续且相同为“重复”
- ignorespace 忽略所有以空白开头的命令
- ignoreboth   相当于ignoredups, ignorespace的组合
- erasedups   删除重复命令

## 14. bash的快捷键

- Ctrl + l 清屏，相当于clear命令
- Ctrl + o 执行当前命令，并重新显示本命令
- Ctrl + s 阻止屏幕输出，锁定
- Ctrl + q 允许屏幕输出，解锁
- Ctrl + c 终止命令
- Ctrl + z 挂起命令
- Ctrl + a 光标移到命令行首，相当于Home
- Ctrl + e 光标移到命令行尾，相当于End
- Ctrl + f 光标向右移动一个字符
- Ctrl + b 光标向左移动一个字符
- Ctrl + xx 光标在命令行首和光标之间移动
- Alt + f 光标向右移动一个单词尾
- Alt + b 光标向左移动一个单词首
- Ctrl + u 从光标处删除至命令行首
- Ctrl + k 从光标处删除至命令行尾
- Alt + r 删除当前整行
- Ctrl + w 从光标处向左删除至单词首
- Alt + d 从光标处向右删除至单词尾
- Alt + Backspace 删除左边单词
- Ctrl + d 删除光标处的一个字符
- Ctrl + h 删除光标前的一个字符
- Ctrl + y 将删除的字符粘贴至光标后
- Alt + c 从光标处开始向右更改为首字母大写的单词
- Alt + u 从光标处开始，将右边一个单词更改为大写
- Alt + l 从光标处开始，将右边一个单词更改为小写
- Ctrl + t 交换光标处和之前的字符位置
- Alt + t 交换光标处和之前的单词位置
- Alt + # 提示输入指定字符后，重复显示该字符#次

Alt 组合快捷键经常和其它软件冲突

## 15. 帮助

### 15.1 whatis

更新 whatis 数据库

```bash
# Centos 7 版本后
mandb

# Centos 6 版本前
makewhatis
```

### 15.2 help

内部命令帮助

```bash
help command
```

外部命令帮助

```bash
command --help
```

格式说明：
- [] 表示可选项
- CAPS或 <> 表示变化的数据
- ... 表示一个列表
- x |y| z 的意思是“ x 或 y 或 z ”
- -abc的 意思是 -a -b –c
- { } 表示分组

```bash
# touch $(date -d '-1 day' +%F).log
2022-12-02.log
```

### 15.3 man

man 提供命令帮助的文件，手册页存放在/usr/share/man

#### man 页面分组

不同类型的帮助称为不同的“章节”，统称为Linux手册
- 1：用户命令
- 2：系统调用
- 3：C库调用
- 4：设备文件及特殊文件
- 5：配置文件格式
- 6：游戏
- 7：杂项
- 8：管理类的命令
- 9：Linux 内核API

```bash
	1   Executable programs or shell commands
	2   System calls (functions provided by the kernel)
	3   Library calls (functions within program libraries)
	4   Special files (usually found in /dev)
	5   File formats and conventions eg /etc/passwd
	6   Games
	7   Miscellaneous (including macro packages and conventions), e.g. man(7), groff(7)
	8   System administration commands (usually only for root)
	9   Kernel routines [Non standard]
```

#### man命令的配置文件

CentOS 6 之前版 man 的配置文件 `/etc/man.config `

CentOS 7 之后版 man 的配置文件 `/etc/man_db.conf`

ubuntu 的配置文件 `/etc/manpath.config`

### 15.4 info

man常用于命令参考 ，GNU工具 info 适合通用文档参考

```bash
NAME
       info - read Info documents
SYNOPSIS
       info [OPTION]... [MENU-ITEM...]
```

### 15.5 命令自身提供的官方使用指南

/usr/share/doc

### 15.6 系统及第三方应用官方文档

[nginx documentation](http://nginx.org/en/docs/)

[Documentation Project - The Apache HTTP Server Project](https://httpd.apache.org/docs-project/)

### 15.7 红帽全球技术支持服务

```bash
$ dnf -y install sos
...
$ sos report

sosreport (version 4.4)

This command will collect diagnostic and configuration information from this CentOS system and installed applications.

An archive containing the collected information will be generated in /var/tmp/sos.8rrgrrw3 and may be provided to a CentOS support
representative.

Any information provided to CentOS will be treated in accordance with the published support policies at:

        Community Website : https://www.centos.org/

The generated archive may contain data considered sensitive and its content should be reviewed by the originating organization before being passed to any third party.

No changes will be made to system configuration.

Press ENTER to continue, or CTRL-C to quit.
```


# 二、文件管理和IO重定向

## 1. 文件系统目录结构

![[Linux_Server_Dir.jpg|800]]

```bash
# ls
bin  boot  data  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var

```

[Filesystem Hierarchy Standard (pathname.com)](https://www.pathname.com/fhs/)

[fhs-2.3.pdf (pathname.com)](https://www.pathname.com/fhs/pub/fhs-2.3.pdf)

cat /etc/DIR_COLORS

```bash
$ cat /etc/DIR_COLORS
# Configuration file for dircolors, a utility to help you set the
# LS_COLORS environment variable used by GNU ls with the --color option.
...
```

### 1.1 常见的文件系统目录功能

- /boot：引导文件存放目录，内核文件(vmlinuz)、引导加载器(bootloader, grub)都存放于此目录
- /bin：所有用户使用的基本命令；不能关联至独立分区，OS启动即会用到的程序
- /sbin：管理类的基本命令；不能关联至独立分区，OS启动即会用到的程序
- /lib：启动时程序依赖的基本共享库文件以及内核模块文件(/lib/modules)
- /lib64：专用于x86_64系统上的辅助共享库文件存放位置
- /etc：配置文件目录
- /home/USERNAME：普通用户家目录
- /root：管理员的家目录
- /media：便携式移动设备挂载点
- /mnt：临时文件系统挂载点
- /dev：设备文件及特殊文件存储位置
	- b: block device，随机访问
	- c: character device，线性访问
- /opt：第三方应用程序的安装位置
- /srv：系统上运行的服务用到的数据
- /tmp：临时文件存储位置
- /usr: universal shared, read-only data
	- bin: 保证系统拥有完整功能而提供的应用程序
	- sbin:
	- lib：32位使用
	- lib64：只存在64位系统
	- include: C程序的头文件(header files)
	- share：结构化独立的数据，例如doc, man等
		- local：第三方应用程序的安装位置
		- bin, sbin, lib, lib64, etc, share
- /var: variable data files
	- cache: 应用程序缓存数据目录
	- lib: 应用程序状态信息数据
	- local：专用于为/usr/local下的应用程序存储可变数据
	- lock: 锁文件 log: 日志目录及文件
	- opt: 专用于为/opt下的应用程序存储可变数据
	- run: 运行中的进程相关数据,通常用于存储进程pid文件
	- spool: 应用程序数据池
	- tmp: 保存系统两次重启之间产生的临时数据
- /proc: 用于输出内核与进程信息相关的虚拟文件系统
- /sys：用于输出当前系统上硬件设备相关信息虚拟文件系统
- /selinux: security enhanced Linux，selinux相关的安全策略等信息的存储位置

### 1.2 应用程序的组成部分

二进制程序：`/bin, /sbin, /usr/bin, /usr/sbin, /usr/local/bin, /usr/local/sbin`

库文件：`/lib, /lib64, /usr/lib, /usr/lib64, /usr/local/lib, /usr/local/lib64`

配置文件：`/etc, /etc/DIRECTORY, /usr/local/etc`

帮助文件：`/usr/share/man, /usr/share/doc, /usr/local/share/man, /usr/local/share/doc`

### 1.3 CentOS 7 以后版本目录结构变化

- /bin 和 /usr/bin
- /sbin 和 /usr/sbin
- /lib 和/usr/lib
- /lib64 和 /usr/lib64

```bash
# ls /bin /sbin /lib /lib64 -ld
lrwxrwxrwx. 1 root root 7 Jun 22  2021 /bin -> usr/bin
lrwxrwxrwx. 1 root root 7 Jun 22  2021 /lib -> usr/lib
lrwxrwxrwx. 1 root root 9 Jun 22  2021 /lib64 -> usr/lib64
lrwxrwxrwx. 1 root root 8 Jun 22  2021 /sbin -> usr/sbin
```

### 1.4 Linux下的文件类型

文件类型：
- - 普通文件
- d 目录文件directory
- l 符号链接文件link
- b 块设备block
- c 字符设备character
- p 管道文件pipe
- s 套接字文件socket

```bash
# ll
total 64
lrwxrwxrwx.  1 root root     7 Jun 22  2021 bin -> usr/bin
dr-xr-xr-x.  5 root root  4096 Nov 30 22:30 boot
drwxr-xr-x.  2 root root  4096 Jan 23  2022 data
drwxr-xr-x  19 root root  2980 Dec  3 20:47 dev
drwxr-xr-x. 85 root root  4096 Dec  3 20:43 etc
drwxr-xr-x.  3 root root  4096 Nov 30 22:29 home
lrwxrwxrwx.  1 root root     7 Jun 22  2021 lib -> usr/lib
lrwxrwxrwx.  1 root root     9 Jun 22  2021 lib64 -> usr/lib64
drwx------.  2 root root 16384 Dec 31  2021 lost+found
drwxr-xr-x.  2 root root  4096 Jun 22  2021 media
drwxr-xr-x.  2 root root  4096 Jun 22  2021 mnt
drwxr-xr-x.  2 root root  4096 Jun 22  2021 opt
dr-xr-xr-x  99 root root     0 Nov 30 22:31 proc
dr-xr-x---.  5 root root  4096 Dec  3 20:47 root
drwxr-xr-x  27 root root   860 Dec  3 20:47 run
lrwxrwxrwx.  1 root root     8 Jun 22  2021 sbin -> usr/sbin
drwxr-xr-x.  2 root root  4096 Jun 22  2021 srv
dr-xr-xr-x  13 root root     0 Nov 30 22:31 sys
drwxrwxrwt.  5 root root  4096 Dec  4 10:11 tmp
drwxr-xr-x. 13 root root  4096 Dec  3 20:43 usr
drwxr-xr-x. 20 root root  4096 Dec 31  2021 var
```

## 2. 文件操作命令

### 2.1 显示当前工作目录

pwd命令: printing working directory
- -P 显示真实物理路径
- -L 显示链接路径（默认）

```bash
$ pwd 
/bin
$ pwd -P
/usr/bin
```

### 2.2 绝对和相对路径

基名：basename，只取文件名而不要路径

目录名：dirname，只取路径，不要文件名

```bash
$ basename /root/text.txt 
text.txt
$ dirname /root/text.txt 
/root
```

### 2.3 更改目录

cd

```
$ cd --help
cd: cd [-L|[-P [-e]] [-@]] [dir]
    Change the shell working directory.

Options:
      -L	force symbolic links to be followed: resolve symbolic links in DIR after processing instances of `..`
      -P	use the physical directory structure without following symbolic links: resolve symbolic links in DIR before processing instances of `..`
      -e	if the -P option is supplied, and the current working directory cannot be determined successfully, exit with a non-zero status
      -@	on systems that support it, present a file with extended attributes as a directory containing the file attributes
```

相关环境变量

```bash
# echo $PWD
/etc
# echo $OLDPWD
/root
```

### 2.4 列出目录内容

ls

```bash
ls [OPTION]... [FILE]...
```

常见选项：
- -a 包含隐藏文件
- -l 显示额外的信息
- -R 目录递归
- -ld 目录和符号链接信息
- -1 文件分行显示
- -S 按从大到小排序
- -t 按mtime排序
- -u 配合-t选项，显示并按atime从新到旧排序
- -U 按目录存放顺序显示
- -X 按文件后缀排序
- -F 对不同类型文件显示时附加不同的符号：*/=>@|
- -C 文件多时，以多列的方式显示文件，默认是一列（标准输出）

说明：
- ls 查看不同后缀文件时的颜色由 `/etc/DIR_COLORS` 和 `@LS_COLORS` 变量定义
- ls -l 看到文件的大小,不一定是实际文件真正占用空间的大小

```
$ ls --help
Mandatory arguments to long options are mandatory for short options too.
```

### 2.5 查看文件状态

stat

文件相关信息：metadata, data

每个文件有三个时间戳：
- access time 访问时间，atime，读取文件内容
	- 1 day
	- mtime > atime
- modify time 修改时间，mtime，改变文件内容（数据）
- change time 改变时间，ctime，元数据发生改变

```bash
[root@VM-12-15-centos ~]# stat /etc/passwd
  File: /etc/passwd
  Size: 1137      	Blocks: 8          IO Block: 4096   regular file
Device: fd01h/64769d	Inode: 393914      Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Access: 2022-12-03 22:30:01.551593746 +0800
Modify: 2022-11-30 22:29:57.950571200 +0800
Change: 2022-11-30 22:29:58.039571846 +0800
 Birth: 2022-11-30 22:29:57.950571200 +0800
```

### 2.6 确定文件内容

file

```
# file --help
Usage: file [OPTION...] [FILE...]
Determine type of FILEs.
```

常用选项:
- -b 列出文件辨识结果时，不显示文件名称
- -f filelist 列出文件filelist中文件名的文件类型
- -F 使用指定分隔符号替换输出文件名后默认的”:”分隔符
- -L 查看对应软链接对应文件的文件类型

```bash
# file text.txt 
text.txt: ASCII text
# file /dev/vda
/dev/vda: block special (253/0)
```


### 2.7 文件通配符模式

通配符采有特定的符号，表示特定的含义，此特符号称为元 meta 字符

常见的通配符
- * 匹配零个或多个字符，但不匹配 "." 开头的文件，即隐藏文件
- ? 匹配任何单个字符,一个汉字也算一个字符
- ~ 当前用户家目录
- ~mage 用户mage家目录
- . 和 ~+ 当前工作目录
- ~-   前一个工作目录
- `[0-9]` 匹配数字范围
- `[a-z]` 一个字母
- `[A-Z]` 一个字母
- `[wang]` 匹配列表中的任何的一个字符
- `[^wang]` 匹配列表中的所有字符以外的字符
- `[^a-z]` 匹配列表中的所有字符以外的字符

在Linux系统中预定义的字符类：
- `[:digit:]`：任意数字，相当于0-9
- `[:lower:]`：任意小写字母,表示 a-z
- `[:upper:]`: 任意大写字母,表示 A-Z
- `[:alpha:]`: 任意大小写字母
- `[:alnum:]`：任意数字或字母 
- `[:blank:]`：水平空白字符
- `[:space:]`：水平或垂直空白字符
- `[:punct:]`：标点符号
- `[:print:]`：可打印字符
- `[:cntrl:]`：控制（非打印）字符
- `[:graph:]`：图形字符
- `[:xdigit:]`：十六进制字符

### 2.8 创建空文件和刷新时间

touch

选项说明:
- -a 仅改变 atime和ctime
- -m 仅改变 mtime和ctime
- -t `[[CC]YY]MMDDhhmm[.ss]` 指定atime和mtime的时间戳
- -c 如果文件不存在，则不予创建

```
# touch --help
Usage: touch [OPTION]... FILE...
```

	### 2.9 复制文件和目录

### 2.10 移动和重命名文件

### 2.11 删除文件

### 2.12 目录操作

## 3. 文件元数据和节点表结构

### 3.1 inode 表结构

### 3.2 硬（hard）链接

### 3.3 符号 symbolic（或软 soft）链接

### 3.4 硬链接和软链接区别总结

### 3.5 生产案例

## 4. IO 重定向和管道

### 4.1 标准输入和输出

### 4.2 I/O重定向 redirect

### 4.3 管道

### 4.4 重定向中的 - 符号

### 4.5 常见案例

## 4. 文件权限管理

### 4.1 文件所有者和属组属性操作

#### 4.1.1 设置文件的所有者 chown

#### 4.1.2 设置文件的属组信息 chgrp

### 4.2 文件权限

#### 4.2.1 文件权限说明

#### 4.2.2 修改文件权限 chmod

### 4.3 新建文件和目录的默认权限

### 4.4 Linux 文件系统的特殊权限

#### 4.4.1 特殊权限 SUID

#### 4.4.2 特殊权限 SGID

#### 4.4.3 特殊权限 Sticky 位

#### 4.4.4 特殊权限数字法

### 4.5 设定文件特殊属性

### 4.6 访问控制列表 ACL

#### 4.6.1 ACL权限功能

#### 4.6.2 ACL相关命令

#### 4.6.3 备份和还原ACL

# 三、Linux用户组和权限

## 1. Linux安全模型

### 1.1 用户

### 1.2 用户组

### 1.3 用户和组的关系

### 1.4 安全上下文

## 2. 用户和组的配置文件

### 2.1 用户和组的主要配置文件

### 2.2 passwd 文件格式

### 2.3 shadow 文件格式

### 2.4 group 文件格式

### 2.5 gshdow 文件格式

### 2.6 文件操作

## 3. 用户和组管理命令

### 3.1 用户创建

### 3.2 用户属性修改

### 3.3 删除用户

### 3.4 查看用户相关的ID信息

### 3.5 切换用户或以其他用户身份执行命令

### 3.6 设置密码

### 3.7 修改用户密码策略

### 3.8 用户相关的其他命令

### 3.9 创建组

### 3.10 修改组

### 3.11 组删除

### 3.12 更改组密码

### 3.13 临时切换主组

### 3.14 更改和查看组成员

### 3.15 练习

# 四 、文本处理和正则表达式

内容概述

## 1. 文本编辑工具之神 VIM

### 1.1 vi 和 vim 简介

### 1.2 使用 vim 初步

#### 1.2.1 vim 命令格式

## 2. 文本常见处理工具

## 3. 正则表达式

## 4. 文本处理三剑客 grep sed awk

### 4.1 grep

### 4.2 sed

### 4.3 awk

# 五 、Shell脚本编程

## 1. 编程基础

## 2. shell 脚本语言的基本用法

## 3. bash shell 的配置文件

## 4. 流程控制

## 5. 函数 function

## 6. 其他脚本相关工具

## 7. 数组 array

## 8. 字符串处理

## 9. 高级变量

# 六 、文件查找和打包压缩

## 1. 文件查找

### 1.1 locate

### 1.2 find

### 1.3 参数替换 xargs

## 2. 压缩和解压缩

### 2.1 compress 和 uncompress

### 2.2 gzip 和 unzip

### 2.3 bzip 和 bunzip

### 2.4 xz 和 unzip

## 3. 打包和解包

### 3.1 tar

### 3.2 split

### 3.3 cpio

# 七 、软件管理

内容概述

## 1. 软件运行和编译

## 2. 软件包和包管理器

## 3. rpm 包管理器

## 4. yum 和 dnf 

## 5. 程序包编译

## 6. Ubuntu 软件管理

# 八 、磁盘存储和文件系统

## 1. 磁盘结构

### 1.1 设备文件

### 1.2 磁盘类型

### 1.3 机械磁盘和固态硬盘

### 1.4 硬盘存储术语

## 2. 存储管理

### 2.1 磁盘分区

### 2.2 文件系统

### 2.3 挂载

### 2.4 处理交换文件和分区

### 2.5 移动介质

### 2.6 磁盘常见工具

## 3. RAID

### 3.1 什么是RAID

### 3.2 RAID级别

### 3.3 实现软 RAID

## 4. 逻辑卷管理器（LVM）

### 4.1 LVM 介绍

### 4.2 实现逻辑卷

### 4.3 逻辑卷快照

# 九 、网络协议和管理配置

## 1. 网络基础

### 1.1 网络概念

### 1.2 常见的网络物理组件

### 1.3 网络应用程序

#### 1.3.1 各种网络应用

#### 1.3.2 应用程序对网路的要求

### 1.4 网络的特征

### 1.5 网络标准

#### 1.5.1 网络标准和分层

#### 1.5.2 开放系统互联 OSI

#### 1.5.3 网络的通信过程

## 2. 局域网 Local Area Network

### 2.1 概述

#### 2.1.1 特点

### 2.2 组网设备

#### 2.2.1 网络线缆和接口

#### 2.2.2 网络适配器

#### 2.2.3 中继器和集线器

#### 2.2.4 网桥和交换机

#### 2.2.5 路由器

### 2.3 以太网技术

### 2.4 虚拟局域网 VLAN

### 2.5 分层的网络架构

## 3. TCP/IP 协议栈

### 3.1 TCP/IP 标准

### 3.2 transport 层

### 3.3 Internet 层

### 3.4 主机到主机的包传递完整过程

### 3.5 IP 地址

## 4. 网络配置

### 4.1 基本网络配置

### 4.2 CentOS6 之前本版网卡名称

### 4.3 网络配置命令

### 4.4 网络配置文件

### 4.5 网卡别名

### 4.6 多网卡 bonding

### 4.7 CentOS 7 以上版网络配置

### 4.8 网桥

### 4.9 网络测试诊断工具

## 5. Ubuntu 网络配置

### 5.1 主机名

### 5.2 网卡名称

### 5.3 Ubuntu网卡配置

# 十 、进程、系统性能和任务计划

内容概述

## 1. 进程和内存管理

### 1.1 什么是进程

### 1.2 进程结构

### 1.3 进程相关概念

### 1.4 进程状态

### 1.5 LRU算法

### 1.6 IPC进程间通信

### 1.7 进程优先级

### 1.8 进程分类

### 1.9 IO 调度算法

## 2. 进程管理和性能线管工具

### 2.1 进程树 pstree

### 2.2 进程信息 ps

### 2.3 查看进程信息 prtstat

### 2.4 设置和调整进程优先级

### 2.5 搜索进程

#### 2.5.1 pgrep

#### 2.5.2 pidof

### 2.6 负载查询 uptime

### 2.7 显示 CPU 相关统计 mpstat

### 2.8 查看进程实时状态 top 和 htop

#### 2.8.1 top

#### 2.8.2 htop

### 2.9 内存空间 free

### 2.10 进程对应的内存映射 pmap

### 2.11 虚拟内存信息 vmstat

### 2.12 统计CPU和设备IO信息 iostat

### 2.13 监视磁盘I/O iotop

### 2.14 显示网络带宽使用情况 iftop

### 2.15 

## 3. 任务计划

### 3.1 一次性任务

### 3.2 周期性任务计划 cron

### 


# 十一 、内核管理

# 十二 、安全与加密

# 十三 、自动化部署

# 十四 、DNS服务

# 十五 、Linux防火墙管理

# 十六 、VPN服务

# 十七 、Mysql数据库

# 十八 、Ansible运维自动化

# 十九 、